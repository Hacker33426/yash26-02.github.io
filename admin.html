<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel - YGWIN</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      padding: 20px;
    }
    h2 {
      color: gold;
    }
    .section {
      margin-bottom: 30px;
      background: #222;
      padding: 15px;
      border-radius: 10px;
    }
    label, select, input {
      font-size: 16px;
      margin-right: 10px;
    }
    .button {
      padding: 5px 15px;
      background-color: #28a745;
      border: none;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }
    .button.reject {
      background-color: #dc3545;
    }
    .request-box {
      border: 1px solid #555;
      padding: 10px;
      margin: 10px 0;
      border-radius: 8px;
      background: #333;
    }
  </style>
</head>
<body>

  <h2>üõ† Admin Panel - YGWIN</h2>

  <!-- Current Period & Result Set -->
  <div class="section">
    <h3>üéØ Set Game Result</h3>
    <p>Current Period: <span id="currentPeriod">--</span></p>
    <label for="resultSelect">Select Result:</label>
    <select id="resultSelect">
      <option value="Red">Red</option>
      <option value="Green">Green</option>
    </select>
    <button class="button" onclick="setResult()">Set Result</button>
  </div>

  <!-- Deposit Requests -->
  <div class="section">
    <h3>üí∞ Deposit Requests</h3>
    <div id="depositRequests"></div>
  </div>

  <!-- Withdraw Requests -->
  <div class="section">
    <h3>üèß Withdraw Requests</h3>
    <div id="withdrawRequests"></div>
  </div>

  <script>
    // Dummy Data (Replace with real backend later)
    const depositData = [
      { id: 1, phone: '9876543210', amount: 500, utr: '123456789012' },
      { id: 2, phone: '9998887776', amount: 1000, utr: '987654321098' }
    ];

    const withdrawData = [
      { id: 1, phone: '9876543210', amount: 300 },
      { id: 2, phone: '8887776665', amount: 700 }
    ];

    let currentPeriod = 101; // This should be dynamic

    document.getElementById("currentPeriod").innerText = currentPeriod;

    function renderRequests() {
      const depBox = document.getElementById("depositRequests");
      const witBox = document.getElementById("withdrawRequests");

      depBox.innerHTML = '';
      depositData.forEach(req => {
        depBox.innerHTML += `
          <div class="request-box">
            <p><strong>Phone:</strong> ${req.phone}</p>
            <p><strong>Amount:</strong> ‚Çπ${req.amount}</p>
            <p><strong>UTR:</strong> ${req.utr}</p>
            <button class="button" onclick="approve('deposit', ${req.id})">Approve</button>
            <button class="button reject" onclick="reject('deposit', ${req.id})">Reject</button>
          </div>
        `;
      });

      witBox.innerHTML = '';
      withdrawData.forEach(req => {
        witBox.innerHTML += `
          <div class="request-box">
            <p><strong>Phone:</strong> ${req.phone}</p>
            <p><strong>Amount:</strong> ‚Çπ${req.amount}</p>
            <button class="button" onclick="approve('withdraw', ${req.id})">Approve</button>
            <button class="button reject" onclick="reject('withdraw', ${req.id})">Reject</button>
          </div>
        `;
      });
    }

    function approve(type, id) {
      alert(`${type.toUpperCase()} ID ${id} approved ‚úÖ`);
      // TODO: Remove request and update user balance
    }

    function reject(type, id) {
      alert(`${type.toUpperCase()} ID ${id} rejected ‚ùå`);
      // TODO: Remove request without updating balance
    }

    function setResult() {
      const result = document.getElementById("resultSelect").value;
      alert(`Result for Period ${currentPeriod} set to ${result}`);
      // TODO: Save result in game history
      currentPeriod++; // auto-increment
      document.getElementById("currentPeriod").innerText = currentPeriod;
    }

    renderRequests();
  </script>

</body>
  </html>
